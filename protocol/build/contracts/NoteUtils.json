{
  "contractName": "NoteUtils",
  "abi": [],
  "bytecode": "0x604c602c600b82828239805160001a60731460008114601c57601e565bfe5b5030600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea165627a7a7230582061e75eb8279087518716234ecdfe7e51a3bbea57e7df8c5a0ac2878475c09f900029",
  "deployedBytecode": "0x73000000000000000000000000000000000000000030146080604052600080fdfea165627a7a7230582061e75eb8279087518716234ecdfe7e51a3bbea57e7df8c5a0ac2878475c09f900029",
  "sourceMap": "33:1608:14:-;;132:2:-1;166:7;155:9;146:7;137:37;252:7;246:14;243:1;238:23;232:4;229:33;270:1;265:20;;;;222:63;;265:20;274:9;222:63;;298:9;295:1;288:20;328:4;319:7;311:22;352:7;343;336:24",
  "deployedSourceMap": "33:1608:14:-;;;;;;;;",
  "source": "pragma solidity >=0.5.0 <0.6.0;\n\nlibrary NoteUtils {\n\n    function getLength(bytes memory proofOutputsOrNotes) internal pure returns (\n        uint len\n    ) {\n        assembly {\n            len := mload(add(proofOutputsOrNotes, 0x20))\n        }\n    }\n\n    function get(bytes memory proofOutputsOrNotes, uint i) internal pure returns (\n        bytes memory out\n    ) {\n        assembly {\n            let base := add(add(proofOutputsOrNotes, 0x40), mul(i, 0x20))\n            out := add(proofOutputsOrNotes, mload(base))\n        }\n    }\n\n    function extractProofOutput(bytes memory proofOutput) internal pure returns (\n        bytes memory inputNotes,\n        bytes memory outputNotes,\n        address publicOwner,\n        int256 publicValue\n    ) {\n        assembly {\n            inputNotes := add(proofOutput, mload(add(proofOutput, 0x20)))\n            outputNotes := add(proofOutput, mload(add(proofOutput, 0x40)))\n            publicOwner := mload(add(proofOutput, 0x60))\n            publicValue := mload(add(proofOutput, 0x80))\n        }\n    }\n\n    function extractNote(bytes memory note) internal pure returns (\n            address owner,\n            bytes32 noteHash,\n            bytes memory metadata\n        ) {\n        assembly {\n            owner := mload(add(note, 0x20))\n            noteHash := mload(add(note, 0x40))\n            metadata := add(note, 0x60)\n        }\n    }\n\n    function hashProofOutput(bytes memory proofOutput) internal pure returns (\n        bytes32 proofHash\n    ) {\n        assembly {\n            let len := add(mload(proofOutput), 0x20)\n            proofHash := keccak256(proofOutput, len)\n        }\n    }\n}\n",
  "sourcePath": "/home/arsalen/Desktop/draft/AZTECProtocol/aztec-demo-js/protocol/contracts/utils/NoteUtils.sol",
  "ast": {
    "absolutePath": "/home/arsalen/Desktop/draft/AZTECProtocol/aztec-demo-js/protocol/contracts/utils/NoteUtils.sol",
    "exportedSymbols": {
      "NoteUtils": [
        2079
      ]
    },
    "id": 2080,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 2021,
        "literals": [
          "solidity",
          ">=",
          "0.5",
          ".0",
          "<",
          "0.6",
          ".0"
        ],
        "nodeType": "PragmaDirective",
        "src": "0:31:14"
      },
      {
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "library",
        "documentation": null,
        "fullyImplemented": true,
        "id": 2079,
        "linearizedBaseContracts": [
          2079
        ],
        "name": "NoteUtils",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "body": {
              "id": 2029,
              "nodeType": "Block",
              "src": "158:93:14",
              "statements": [
                {
                  "externalReferences": [
                    {
                      "len": {
                        "declaration": 2026,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "191:3:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutputsOrNotes": {
                        "declaration": 2023,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "208:19:14",
                        "valueSize": 1
                      }
                    }
                  ],
                  "id": 2028,
                  "nodeType": "InlineAssembly",
                  "operations": "{\n    len := mload(add(proofOutputsOrNotes, 0x20))\n}",
                  "src": "168:83:14"
                }
              ]
            },
            "documentation": null,
            "id": 2030,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getLength",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2024,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2023,
                  "name": "proofOutputsOrNotes",
                  "nodeType": "VariableDeclaration",
                  "scope": 2030,
                  "src": "77:32:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2022,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "77:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "76:34:14"
            },
            "returnParameters": {
              "id": 2027,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2026,
                  "name": "len",
                  "nodeType": "VariableDeclaration",
                  "scope": 2030,
                  "src": "143:8:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2025,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "143:4:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "133:24:14"
            },
            "scope": 2079,
            "src": "58:193:14",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 2040,
              "nodeType": "Block",
              "src": "367:167:14",
              "statements": [
                {
                  "externalReferences": [
                    {
                      "proofOutputsOrNotes": {
                        "declaration": 2032,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "420:19:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "out": {
                        "declaration": 2037,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "474:3:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "i": {
                        "declaration": 2034,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "452:1:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutputsOrNotes": {
                        "declaration": 2032,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "485:19:14",
                        "valueSize": 1
                      }
                    }
                  ],
                  "id": 2039,
                  "nodeType": "InlineAssembly",
                  "operations": "{\n    let base := add(add(proofOutputsOrNotes, 0x40), mul(i, 0x20))\n    out := add(proofOutputsOrNotes, mload(base))\n}",
                  "src": "377:157:14"
                }
              ]
            },
            "documentation": null,
            "id": 2041,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "get",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2035,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2032,
                  "name": "proofOutputsOrNotes",
                  "nodeType": "VariableDeclaration",
                  "scope": 2041,
                  "src": "270:32:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2031,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "270:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2034,
                  "name": "i",
                  "nodeType": "VariableDeclaration",
                  "scope": 2041,
                  "src": "304:6:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2033,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "304:4:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "269:42:14"
            },
            "returnParameters": {
              "id": 2038,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2037,
                  "name": "out",
                  "nodeType": "VariableDeclaration",
                  "scope": 2041,
                  "src": "344:16:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2036,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "344:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "334:32:14"
            },
            "scope": 2079,
            "src": "257:277:14",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 2055,
              "nodeType": "Block",
              "src": "747:299:14",
              "statements": [
                {
                  "externalReferences": [
                    {
                      "inputNotes": {
                        "declaration": 2046,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "780:10:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "outputNotes": {
                        "declaration": 2048,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "854:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "publicOwner": {
                        "declaration": 2050,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "929:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "821:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "798:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "publicValue": {
                        "declaration": 2052,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "986:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "896:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "873:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "954:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1011:11:14",
                        "valueSize": 1
                      }
                    }
                  ],
                  "id": 2054,
                  "nodeType": "InlineAssembly",
                  "operations": "{\n    inputNotes := add(proofOutput, mload(add(proofOutput, 0x20)))\n    outputNotes := add(proofOutput, mload(add(proofOutput, 0x40)))\n    publicOwner := mload(add(proofOutput, 0x60))\n    publicValue := mload(add(proofOutput, 0x80))\n}",
                  "src": "757:289:14"
                }
              ]
            },
            "documentation": null,
            "id": 2056,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "extractProofOutput",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2044,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2043,
                  "name": "proofOutput",
                  "nodeType": "VariableDeclaration",
                  "scope": 2056,
                  "src": "568:24:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2042,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "568:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "567:26:14"
            },
            "returnParameters": {
              "id": 2053,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2046,
                  "name": "inputNotes",
                  "nodeType": "VariableDeclaration",
                  "scope": 2056,
                  "src": "626:23:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2045,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "626:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2048,
                  "name": "outputNotes",
                  "nodeType": "VariableDeclaration",
                  "scope": 2056,
                  "src": "659:24:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2047,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "659:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2050,
                  "name": "publicOwner",
                  "nodeType": "VariableDeclaration",
                  "scope": 2056,
                  "src": "693:19:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2049,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "693:7:14",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2052,
                  "name": "publicValue",
                  "nodeType": "VariableDeclaration",
                  "scope": 2056,
                  "src": "722:18:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_int256",
                    "typeString": "int256"
                  },
                  "typeName": {
                    "id": 2051,
                    "name": "int256",
                    "nodeType": "ElementaryTypeName",
                    "src": "722:6:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_int256",
                      "typeString": "int256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "616:130:14"
            },
            "scope": 2079,
            "src": "540:506:14",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 2068,
              "nodeType": "Block",
              "src": "1217:167:14",
              "statements": [
                {
                  "externalReferences": [
                    {
                      "owner": {
                        "declaration": 2061,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1250:5:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "note": {
                        "declaration": 2058,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1269:4:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "metadata": {
                        "declaration": 2065,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1341:8:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "noteHash": {
                        "declaration": 2063,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1294:8:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "note": {
                        "declaration": 2058,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1316:4:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "note": {
                        "declaration": 2058,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1357:4:14",
                        "valueSize": 1
                      }
                    }
                  ],
                  "id": 2067,
                  "nodeType": "InlineAssembly",
                  "operations": "{\n    owner := mload(add(note, 0x20))\n    noteHash := mload(add(note, 0x40))\n    metadata := add(note, 0x60)\n}",
                  "src": "1227:157:14"
                }
              ]
            },
            "documentation": null,
            "id": 2069,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "extractNote",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2059,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2058,
                  "name": "note",
                  "nodeType": "VariableDeclaration",
                  "scope": 2069,
                  "src": "1073:17:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2057,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "1073:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1072:19:14"
            },
            "returnParameters": {
              "id": 2066,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2061,
                  "name": "owner",
                  "nodeType": "VariableDeclaration",
                  "scope": 2069,
                  "src": "1128:13:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2060,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1128:7:14",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2063,
                  "name": "noteHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 2069,
                  "src": "1155:16:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 2062,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "1155:7:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2065,
                  "name": "metadata",
                  "nodeType": "VariableDeclaration",
                  "scope": 2069,
                  "src": "1185:21:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2064,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "1185:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1114:102:14"
            },
            "scope": 2079,
            "src": "1052:332:14",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 2077,
              "nodeType": "Block",
              "src": "1497:142:14",
              "statements": [
                {
                  "externalReferences": [
                    {
                      "proofOutput": {
                        "declaration": 2071,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1551:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofHash": {
                        "declaration": 2074,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1583:9:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2071,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1606:11:14",
                        "valueSize": 1
                      }
                    }
                  ],
                  "id": 2076,
                  "nodeType": "InlineAssembly",
                  "operations": "{\n    let len := add(mload(proofOutput), 0x20)\n    proofHash := keccak256(proofOutput, len)\n}",
                  "src": "1507:132:14"
                }
              ]
            },
            "documentation": null,
            "id": 2078,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "hashProofOutput",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2072,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2071,
                  "name": "proofOutput",
                  "nodeType": "VariableDeclaration",
                  "scope": 2078,
                  "src": "1415:24:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2070,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "1415:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1414:26:14"
            },
            "returnParameters": {
              "id": 2075,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2074,
                  "name": "proofHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 2078,
                  "src": "1473:17:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 2073,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "1473:7:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1463:33:14"
            },
            "scope": 2079,
            "src": "1390:249:14",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          }
        ],
        "scope": 2080,
        "src": "33:1608:14"
      }
    ],
    "src": "0:1642:14"
  },
  "legacyAST": {
    "absolutePath": "/home/arsalen/Desktop/draft/AZTECProtocol/aztec-demo-js/protocol/contracts/utils/NoteUtils.sol",
    "exportedSymbols": {
      "NoteUtils": [
        2079
      ]
    },
    "id": 2080,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 2021,
        "literals": [
          "solidity",
          ">=",
          "0.5",
          ".0",
          "<",
          "0.6",
          ".0"
        ],
        "nodeType": "PragmaDirective",
        "src": "0:31:14"
      },
      {
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "library",
        "documentation": null,
        "fullyImplemented": true,
        "id": 2079,
        "linearizedBaseContracts": [
          2079
        ],
        "name": "NoteUtils",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "body": {
              "id": 2029,
              "nodeType": "Block",
              "src": "158:93:14",
              "statements": [
                {
                  "externalReferences": [
                    {
                      "len": {
                        "declaration": 2026,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "191:3:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutputsOrNotes": {
                        "declaration": 2023,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "208:19:14",
                        "valueSize": 1
                      }
                    }
                  ],
                  "id": 2028,
                  "nodeType": "InlineAssembly",
                  "operations": "{\n    len := mload(add(proofOutputsOrNotes, 0x20))\n}",
                  "src": "168:83:14"
                }
              ]
            },
            "documentation": null,
            "id": 2030,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getLength",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2024,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2023,
                  "name": "proofOutputsOrNotes",
                  "nodeType": "VariableDeclaration",
                  "scope": 2030,
                  "src": "77:32:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2022,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "77:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "76:34:14"
            },
            "returnParameters": {
              "id": 2027,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2026,
                  "name": "len",
                  "nodeType": "VariableDeclaration",
                  "scope": 2030,
                  "src": "143:8:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2025,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "143:4:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "133:24:14"
            },
            "scope": 2079,
            "src": "58:193:14",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 2040,
              "nodeType": "Block",
              "src": "367:167:14",
              "statements": [
                {
                  "externalReferences": [
                    {
                      "proofOutputsOrNotes": {
                        "declaration": 2032,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "420:19:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "out": {
                        "declaration": 2037,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "474:3:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "i": {
                        "declaration": 2034,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "452:1:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutputsOrNotes": {
                        "declaration": 2032,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "485:19:14",
                        "valueSize": 1
                      }
                    }
                  ],
                  "id": 2039,
                  "nodeType": "InlineAssembly",
                  "operations": "{\n    let base := add(add(proofOutputsOrNotes, 0x40), mul(i, 0x20))\n    out := add(proofOutputsOrNotes, mload(base))\n}",
                  "src": "377:157:14"
                }
              ]
            },
            "documentation": null,
            "id": 2041,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "get",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2035,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2032,
                  "name": "proofOutputsOrNotes",
                  "nodeType": "VariableDeclaration",
                  "scope": 2041,
                  "src": "270:32:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2031,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "270:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2034,
                  "name": "i",
                  "nodeType": "VariableDeclaration",
                  "scope": 2041,
                  "src": "304:6:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 2033,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "304:4:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "269:42:14"
            },
            "returnParameters": {
              "id": 2038,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2037,
                  "name": "out",
                  "nodeType": "VariableDeclaration",
                  "scope": 2041,
                  "src": "344:16:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2036,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "344:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "334:32:14"
            },
            "scope": 2079,
            "src": "257:277:14",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 2055,
              "nodeType": "Block",
              "src": "747:299:14",
              "statements": [
                {
                  "externalReferences": [
                    {
                      "inputNotes": {
                        "declaration": 2046,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "780:10:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "outputNotes": {
                        "declaration": 2048,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "854:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "publicOwner": {
                        "declaration": 2050,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "929:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "821:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "798:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "publicValue": {
                        "declaration": 2052,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "986:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "896:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "873:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "954:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2043,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1011:11:14",
                        "valueSize": 1
                      }
                    }
                  ],
                  "id": 2054,
                  "nodeType": "InlineAssembly",
                  "operations": "{\n    inputNotes := add(proofOutput, mload(add(proofOutput, 0x20)))\n    outputNotes := add(proofOutput, mload(add(proofOutput, 0x40)))\n    publicOwner := mload(add(proofOutput, 0x60))\n    publicValue := mload(add(proofOutput, 0x80))\n}",
                  "src": "757:289:14"
                }
              ]
            },
            "documentation": null,
            "id": 2056,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "extractProofOutput",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2044,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2043,
                  "name": "proofOutput",
                  "nodeType": "VariableDeclaration",
                  "scope": 2056,
                  "src": "568:24:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2042,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "568:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "567:26:14"
            },
            "returnParameters": {
              "id": 2053,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2046,
                  "name": "inputNotes",
                  "nodeType": "VariableDeclaration",
                  "scope": 2056,
                  "src": "626:23:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2045,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "626:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2048,
                  "name": "outputNotes",
                  "nodeType": "VariableDeclaration",
                  "scope": 2056,
                  "src": "659:24:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2047,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "659:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2050,
                  "name": "publicOwner",
                  "nodeType": "VariableDeclaration",
                  "scope": 2056,
                  "src": "693:19:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2049,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "693:7:14",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2052,
                  "name": "publicValue",
                  "nodeType": "VariableDeclaration",
                  "scope": 2056,
                  "src": "722:18:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_int256",
                    "typeString": "int256"
                  },
                  "typeName": {
                    "id": 2051,
                    "name": "int256",
                    "nodeType": "ElementaryTypeName",
                    "src": "722:6:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_int256",
                      "typeString": "int256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "616:130:14"
            },
            "scope": 2079,
            "src": "540:506:14",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 2068,
              "nodeType": "Block",
              "src": "1217:167:14",
              "statements": [
                {
                  "externalReferences": [
                    {
                      "owner": {
                        "declaration": 2061,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1250:5:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "note": {
                        "declaration": 2058,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1269:4:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "metadata": {
                        "declaration": 2065,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1341:8:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "noteHash": {
                        "declaration": 2063,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1294:8:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "note": {
                        "declaration": 2058,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1316:4:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "note": {
                        "declaration": 2058,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1357:4:14",
                        "valueSize": 1
                      }
                    }
                  ],
                  "id": 2067,
                  "nodeType": "InlineAssembly",
                  "operations": "{\n    owner := mload(add(note, 0x20))\n    noteHash := mload(add(note, 0x40))\n    metadata := add(note, 0x60)\n}",
                  "src": "1227:157:14"
                }
              ]
            },
            "documentation": null,
            "id": 2069,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "extractNote",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2059,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2058,
                  "name": "note",
                  "nodeType": "VariableDeclaration",
                  "scope": 2069,
                  "src": "1073:17:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2057,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "1073:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1072:19:14"
            },
            "returnParameters": {
              "id": 2066,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2061,
                  "name": "owner",
                  "nodeType": "VariableDeclaration",
                  "scope": 2069,
                  "src": "1128:13:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 2060,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1128:7:14",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2063,
                  "name": "noteHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 2069,
                  "src": "1155:16:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 2062,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "1155:7:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 2065,
                  "name": "metadata",
                  "nodeType": "VariableDeclaration",
                  "scope": 2069,
                  "src": "1185:21:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2064,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "1185:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1114:102:14"
            },
            "scope": 2079,
            "src": "1052:332:14",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 2077,
              "nodeType": "Block",
              "src": "1497:142:14",
              "statements": [
                {
                  "externalReferences": [
                    {
                      "proofOutput": {
                        "declaration": 2071,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1551:11:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofHash": {
                        "declaration": 2074,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1583:9:14",
                        "valueSize": 1
                      }
                    },
                    {
                      "proofOutput": {
                        "declaration": 2071,
                        "isOffset": false,
                        "isSlot": false,
                        "src": "1606:11:14",
                        "valueSize": 1
                      }
                    }
                  ],
                  "id": 2076,
                  "nodeType": "InlineAssembly",
                  "operations": "{\n    let len := add(mload(proofOutput), 0x20)\n    proofHash := keccak256(proofOutput, len)\n}",
                  "src": "1507:132:14"
                }
              ]
            },
            "documentation": null,
            "id": 2078,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "hashProofOutput",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 2072,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2071,
                  "name": "proofOutput",
                  "nodeType": "VariableDeclaration",
                  "scope": 2078,
                  "src": "1415:24:14",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes_memory_ptr",
                    "typeString": "bytes"
                  },
                  "typeName": {
                    "id": 2070,
                    "name": "bytes",
                    "nodeType": "ElementaryTypeName",
                    "src": "1415:5:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes_storage_ptr",
                      "typeString": "bytes"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1414:26:14"
            },
            "returnParameters": {
              "id": 2075,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 2074,
                  "name": "proofHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 2078,
                  "src": "1473:17:14",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 2073,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "1473:7:14",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1463:33:14"
            },
            "scope": 2079,
            "src": "1390:249:14",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          }
        ],
        "scope": 2080,
        "src": "33:1608:14"
      }
    ],
    "src": "0:1642:14"
  },
  "compiler": {
    "name": "solc",
    "version": "0.5.4+commit.9549d8ff.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.0.2",
  "updatedAt": "2019-03-03T05:16:18.516Z",
  "devdoc": {
    "methods": {}
  },
  "userdoc": {
    "methods": {}
  }
}